<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nutrition Quiz – 3 Levels</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f9f4;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .quiz-card {
      background: #fff;
      max-width: 600px;
      width: 100%;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      text-align: center;
    }
    h1 {
      color: #2f4f2f;
      margin-bottom: 15px;
    }
    .level-buttons button {
      padding: 12px 20px;
      margin: 10px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      color: white;
    }
    .easy { background: #4CAF50; }
    .medium { background: #FF9800; }
    .difficult { background: #F44336; }
    .question {
      margin: 20px 0;
      font-weight: bold;
    }
    .answers button {
      display: block;
      margin: 8px auto;
      padding: 10px 15px;
      width: 90%;
      max-width: 400px;
      border: 1px solid #ccc;
      border-radius: 6px;
      background: #f1f8f1;
      cursor: pointer;
      transition: background 0.3s;
    }
    .answers button:hover {
      background: #dcefdc;
    }
    .results {
      margin-top: 20px;
      padding: 15px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background: #f9fff9;
      text-align: left;
    }
    .action-buttons button {
      padding: 10px 16px;
      margin: 8px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 15px;
    }
    .retry { background: #2196F3; color: white; }
    .toolkit { background: #9C27B0; color: white; }
    .next-level { background: #009688; color: white; }
  </style>
</head>
<body>
  <div class="quiz-card">
    <h1>Nutrition Quiz</h1>
    <div id="quiz-intro">
      <h3>Select Difficulty Level</h3>
      <div class="level-buttons">
        <button class="easy" onclick="startQuiz('easy')">Easy</button>
        <button class="medium" onclick="startQuiz('medium')">Medium</button>
        <button class="difficult" onclick="startQuiz('difficult')">Difficult</button>
      </div>
    </div>

    <div id="quiz-container" style="display:none;">
      <div id="question" class="question"></div>
      <div id="answers" class="answers"></div>
    </div>

    <div id="results" class="results" style="display:none;"></div>
    <div id="action-buttons" class="action-buttons"></div>
  </div>

  <script>
    const quizData = {
      easy: [
        {q:"Which vitamin do we mainly get from the sun?", a:["Vitamin D","Vitamin C","Vitamin A","Vitamin B12"], correct:"Vitamin D"},
        {q:"Which food group provides energy?", a:["Carbohydrates","Proteins","Fats","Vitamins"], correct:"Carbohydrates"},
        {q:"Apples are a good source of which nutrient?", a:["Fibre","Iron","Protein","Vitamin B12"], correct:"Fibre"},
        {q:"Calcium is important for…", a:["Strong bones","Eyesight","Skin health","Digestion"], correct:"Strong bones"},
        {q:"Which of these is a healthy fat?", a:["Olive oil","Butter","Lard","Margarine"], correct:"Olive oil"}
      ],
      medium: [
        {q:"How many calories are roughly in 1 gram of protein?", a:["4","9","7","2"], correct:"4"},
        {q:"Which nutrient helps repair muscles?", a:["Protein","Carbs","Vitamin C","Fats"], correct:"Protein"},
        {q:"Whole grains are healthier than refined grains because they contain more…", a:["Fibre","Sugar","Salt","Fat"], correct:"Fibre"},
        {q:"Which mineral helps carry oxygen in blood?", a:["Iron","Zinc","Calcium","Magnesium"], correct:"Iron"},
        {q:"On nutrition labels, %RI usually stands for…", a:["Reference Intake","Recommended Ingredient","Required Intake","Random Info"], correct:"Reference Intake"},
        {q:"What type of fat is healthiest?", a:["Unsaturated","Saturated","Trans fat","None"], correct:"Unsaturated"},
        {q:"Bananas are rich in…", a:["Potassium","Calcium","Magnesium","Iron"], correct:"Potassium"},
        {q:"Omega-3 fats are mainly found in…", a:["Oily fish","Bread","Cheese","Apples"], correct:"Oily fish"}
      ],
      difficult: [
        {q:"Which vitamin is fat-soluble?", a:["Vitamin A","Vitamin C","Vitamin B6","Vitamin B12"], correct:"Vitamin A"},
        {q:"What is the glycaemic index (GI) a measure of?", a:["How carbs affect blood sugar","How sweet a food tastes","How much protein food has","Salt levels"], correct:"How carbs affect blood sugar"},
        {q:"Which amino acid is essential (cannot be made by the body)?", a:["Lysine","Glycine","Alanine","Glutamine"], correct:"Lysine"},
        {q:"What’s the main storage form of carbohydrate in the body?", a:["Glycogen","Starch","Glucose","Fibre"], correct:"Glycogen"},
        {q:"Which vitamin deficiency causes scurvy?", a:["Vitamin C","Vitamin D","Vitamin B12","Vitamin A"], correct:"Vitamin C"},
        {q:"What does BMI stand for?", a:["Body Mass Index","Basic Metabolism Indicator","Balanced Meal Intake","Bone Mass Indicator"], correct:"Body Mass Index"},
        {q:"Which nutrient has the highest calories per gram?", a:["Fat","Carbohydrate","Protein","Fibre"], correct:"Fat"},
        {q:"Which mineral helps regulate blood pressure?", a:["Potassium","Iron","Calcium","Zinc"], correct:"Potassium"},
        {q:"Trans fats are mainly found in…", a:["Processed foods","Fresh fruit","Oily fish","Vegetables"], correct:"Processed foods"},
        {q:"What is the role of antioxidants?", a:["Protect cells from damage","Build muscle","Increase blood sugar","Provide calories"], correct:"Protect cells from damage"}
      ]
    };

    let currentLevel, currentQuestions, currentIndex, score;

    function startQuiz(level) {
      currentLevel = level;
      currentQuestions = [...quizData[level]].sort(() => 0.5 - Math.random());
      currentIndex = 0;
      score = 0;
      document.getElementById("quiz-intro").style.display = "none";
      document.getElementById("results").style.display = "none";
      document.getElementById("action-buttons").innerHTML = "";
      document.getElementById("quiz-container").style.display = "block";
      showQuestion();
    }

    function showQuestion() {
      const qData = currentQuestions[currentIndex];
      document.getElementById("question").textContent = qData.q;
      const answersDiv = document.getElementById("answers");
      answersDiv.innerHTML = "";
      qData.a.sort(() => 0.5 - Math.random()).forEach(ans => {
        const btn = document.createElement("button");
        btn.textContent = ans;
        btn.onclick = () => checkAnswer(ans, qData.correct);
        answersDiv.appendChild(btn);
      });
    }

    function checkAnswer(answer, correct) {
      if (answer === correct) score++;
      currentIndex++;
      if (currentIndex < currentQuestions.length) {
        showQuestion();
      } else {
        showResults();
      }
    }

    function showResults() {
      document.getElementById("quiz-container").style.display = "none";
      const resultsDiv = document.getElementById("results");
      resultsDiv.style.display = "block";
      resultsDiv.innerHTML = `<h3>Results: ${score}/${currentQuestions.length}</h3>`;
      resultsDiv.innerHTML += "<ul>";
      currentQuestions.forEach((q,i) => {
        resultsDiv.innerHTML += `<li><strong>Q${i+1}:</strong> ${q.q}<br>Correct: ${q.correct}</li>`;
      });
      resultsDiv.innerHTML += "</ul>";

      const actionDiv = document.getElementById("action-buttons");
      actionDiv.innerHTML = "";

      if (currentLevel === "easy") {
        actionDiv.innerHTML += `<button class="next-level" onclick="startQuiz('medium')">Next Level: Medium</button>`;
      } else if (currentLevel === "medium") {
        actionDiv.innerHTML += `<button class="next-level" onclick="startQuiz('difficult')">Next Level: Difficult</button>`;
      } else {
        actionDiv.innerHTML += `<button class="retry" onclick="location.reload()">Retry Quiz</button>`;
        actionDiv.innerHTML += `<button class="toolkit" onclick="window.open('https://keepwell.com/toolkit.pdf')">Get Toolkit</button>`;
      }
    }
  </script>
</body>
</html>


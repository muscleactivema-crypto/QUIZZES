<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sit–Lay–Decline Quiz — Keep Well</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f9f6;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
    }
    .quiz-container {
      background: #ffffff;
      margin: 30px;
      padding: 25px 25px 35px 25px;
      border-radius: 12px;
      box-shadow: 0 6px 12px rgba(0,0,0,0.1);
      max-width: 600px;
      width: 100%;
    }
    h1 {
      text-align: center;
      color: #2f5233;
    }
    .question-number {
      font-size: 14px;
      color: #666;
      margin-bottom: 5px;
    }
    .question {
      margin: 10px 0 15px 0;
      font-weight: bold;
      color: #333;
      font-size: 18px;
    }
    .answers button {
      display: block;
      width: 90%;
      margin: 8px auto;
      padding: 12px;
      background: #e6f4ea;
      border: 2px solid #2f5233;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      transition: all 0.3s ease;
    }
    .answers button:hover {
      background: #c9e7d2;
    }
    .controls {
      margin-top: 15px;
      text-align: center;
    }
    .controls button {
      padding: 12px 20px;
      margin: 5px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .next-btn {
      background: #4CAF50;
      color: #fff;
    }
    .next-btn:hover {
      background: #45a049;
    }
    .retry-btn {
      background: #f57c00;
      color: #fff;
    }
    .retry-btn:hover {
      background: #ef6c00;
    }
    .results {
      text-align: center;
      margin-top: 15px;
      padding: 15px;
      background: #f0f9f4;
      border: 2px dashed #2f5233;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <div class="quiz-container">
    <h1>🪑 Sit–Lay–Decline Loop Quiz</h1>
    <div id="quiz"></div>
    <div class="controls">
      <button id="next-btn" class="next-btn" onclick="nextQuestion()" style="display:none;">Next ➡️</button>
      <button id="retry-btn" class="retry-btn" onclick="retryQuiz()" style="display:none;">🔄 Retry Quiz</button>
    </div>
    <div id="results" class="results" style="display:none;"></div>
  </div>

  <script>
    const questions = [
      { q: "🪑 How often do you stand up during the day?", a: [
        { text: "Rarely 🙁", value: 3 },
        { text: "Sometimes 🙂", value: 2 },
        { text: "Frequently 😃", value: 1 }
      ]},
      { q: "💪 How often do you stretch or move your arms/legs while sitting?", a: [
        { text: "Rarely 🙁", value: 3 },
        { text: "Occasionally 🙂", value: 2 },
        { text: "Regularly 😃", value: 1 }
      ]},
      { q: "🚶 Do you take short walks during breaks?", a: [
        { text: "Never 🙁", value: 3 },
        { text: "Sometimes 🙂", value: 2 },
        { text: "Always 😃", value: 1 }
      ]},
      { q: "🦵 How often do you feel joint stiffness?", a: [
        { text: "Frequently 😣", value: 3 },
        { text: "Occasionally 😐", value: 2 },
        { text: "Rarely 😃", value: 1 }
      ]},
      { q: "⚡ Do you notice low energy after sitting for long periods?", a: [
        { text: "Often 😴", value: 3 },
        { text: "Sometimes 🙂", value: 2 },
        { text: "Rarely 😃", value: 1 }
      ]},
      { q: "🪜 How often do you take the stairs instead of the lift/escalator?", a: [
        { text: "Never 🙁", value: 3 },
        { text: "Sometimes 🙂", value: 2 },
        { text: "Often 😃", value: 1 }
      ]},
      { q: "🏋️‍♂️ Do you do any seated exercises or chair-based workouts?", a: [
        { text: "No 🙁", value: 3 },
        { text: "Occasionally 🙂", value: 2 },
        { text: "Yes, regularly 😃", value: 1 }
      ]},
      { q: "🤔 Do you feel you could improve your daily movement habits?", a: [
        { text: "Not really 😐", value: 1 },
        { text: "Somewhat 🙂", value: 2 },
        { text: "Definitely 😃", value: 3 }
      ]}
    ];

    let currentQuestion = 0;
    let totalScore = 0;

    function loadQuestion() {
      const quizDiv = document.getElementById("quiz");
      quizDiv.innerHTML = "";
      document.getElementById("next-btn").style.display = "none";

      if (currentQuestion < questions.length) {
        // Display question number
        const qNumber = document.createElement("div");
        qNumber.classList.add("question-number");
        qNumber.textContent = `Question ${currentQuestion + 1} of ${questions.length}`;
        quizDiv.appendChild(qNumber);

        // Display question text
        const q = document.createElement("div");
        q.classList.add("question");
        q.textContent = questions[currentQuestion].q;
        quizDiv.appendChild(q);

        // Display answers
        const answersDiv = document.createElement("div");
        answersDiv.classList.add("answers");
        questions[currentQuestion].a.forEach(answer => {
          const btn = document.createElement("button");
          btn.textContent = answer.text;
          btn.onclick = () => selectAnswer(answer.value);
          answersDiv.appendChild(btn);
        });
        quizDiv.appendChild(answersDiv);
      } else {
        showResults();
      }
    }

    function selectAnswer(value) {
      totalScore += value;
      document.getElementById("next-btn").style.display = "inline-block";
    }

    function nextQuestion() {
      currentQuestion++;
      loadQuestion();
    }

    function showResults() {
      document.getElementById("quiz").style.display = "none";
      document.getElementById("next-btn").style.display = "none";
      document.getElementById("retry-btn").style.display = "inline-block";

      const resultsDiv = document.getElementById("results");
      resultsDiv.style.display = "block";

      let message = "";
      if (totalScore <= 10) message = "🎉 You are moving enough! Keep up the good habits.";
      else if (totalScore <= 18) message = "🙂 You are partially active. Try to add more movement breaks.";
      else message = "⚠️ Warning! You are at risk of the Sit–Lay–Decline loop. Time to stand up more!";

      resultsDiv.innerHTML = `
        <h2>📊 Your Result</h2>
        <p>${message}</p>
        <p><em>Total Score: ${totalScore}</em></p>
      `;
    }

    function retryQuiz() {
      currentQuestion = 0;
      totalScore = 0;
      document.getElementById("quiz").style.display = "block";
      document.getElementById("results").style.display = "none";
      loadQuestion();
    }

    loadQuestion();
  </script>
</body>
</html>
